<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>gengo.js/plugin/parser</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/cayman.css">
    <link rel="stylesheet" href="css/prism.css">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">gengo.js/plugin/parser</h1>
      <h2 class="project-tagline">The default parser plugin for gengojs.</h2><a href="https://github.com/gengojs/plugin-parser" target="_blank" class="btn">View on GitHub</a><a href="https://npmjs.com/package/gengojs-default-parser" target="_blank" class="btn">View on npm</a>
    </section>
    <section data-spy="scroll" data-target=".scrollspy" class="main-content">
      <div class="row">
        <div class="col-md-3 col-xs-3 bs-docs-sidebar">
          <ul id="sidebar" class="nav nav-stacked fixed">
            <li><a href="index.html">Main</a></li>
            <li><a href="filter.js.html">filter.js</a></li>
            <li><a href="find.js.html">find.js</a></li>
            <li><a href="index.js.html">index.js</a></li>
            <li><a href="parser.js.html">parser.js</a></li>
            <li><a href="router.js.html">router.js</a></li>
            <li class="active"><a href="type.js.html">type.js
                <ul class="nav nav-stacked">
                  <li><a href="#Type"><i class="alert alert-success"></i><span>Type</span></a>
                  </li>
                  <li><a href="#getPhrase"><i class="alert alert-info"></i><span>getPhrase</span></a>
                  </li>
                  <li><a href="#getDot"><i class="alert alert-info"></i><span>getDot</span></a>
                  </li>
                </ul></a></li>
          </ul>
        </div>
        <div class="col-md-9">
          <section id="Type">
            <h1>Type</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-success radius ctx-type">class</div><span>&nbsp;</span><span>new Type()</span><span>&nbsp;</span><span>&nbsp;</span><span class="label label-default">extends</span><span>&nbsp;</span><span>Notation</span>
            </p>
          </section>
          <div class="description"><p>This class determines the type<br />of notation used.</p></div>
          <pre><code class="language-javascript">class Type extends Notation {
  constructor(input, core) {
      super(input.phrase);
      log
        .debug(`class: ${Type.name}`, `process: constructor`)
        .debug(`router exists: ${ 
        // Set dependencies
        !!(this._router = new Router(input, core))
      }`)
        .debug(`options exists: ${
        // Set options
        !!(this._options = core.options.parser)
      }`);

    }</code></pre>
          <section id="getPhrase">
            <h1>getPhrase</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>Type.prototype.getPhrase()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Finds the data from a string that is a phrase</p></div>
          <pre><code class="language-javascript">getPhrase() {
    var keywords = this._options.keywords,
      result, local, global, key = super.parse().key;
    try {
      // local data is
      local = this._router.local();
      // Check if global data exists
      global = this._router.global(keywords.global);
      // Check if the value exists under that key
      result = _.has(global, key) ?
        global[key] : _.has(local, key) ?
        local[key] : undefined;
    } catch (error) {
      if (this._router.isEnabled())
        log.warn('Oops! Couldn\'t find key: ' + key +
          ' with router enabled.');
      else log.error(error.stack || String(error));
    }
    return result;
  }
  /**
   * Parses a string that contains a bracket notation
   * @return {String | undefined}
   */
getBracket() {
    var keywords = this._options.keywords,
      key = super.parse().key,
      seek = super.parse().seek,
      result, local, global;
    try {
      // Check if router is enabled and data exists under router
      local = this._router.local();
      // Check if local data exists or even has the value from the key
      if (!_.isUndefined(local))
        local = (_.has(local, key)) ? (local[key] || local) : local;
      // Check if global data exists
      global = this._router.global(keywords.global);
      // Find the phrase in the local scope
      local = _.has(local, key) ? local[key] : undefined;
      // Find the phrase in the global scope
      global = _.has(global, key) ? global[key] : undefined;
      // If the bracket contains a dot notation
      if (seek) {
        //match the dot.dot.dot
        if (Notation.isDot(seek)) {
          //deep search for the data and parse the result
          result = Find.find(local, seek) || Find.find(global, seek);
          //check if key exists
          result = _.has(result, key) ? result[key] : (result || undefined);
        } else result = local ? local[seek] :
          local || global ? global[seek] : global;
      } else {
        // Since it contains only a single dot
        // Check if the local or global scope contains the key
        if (local)
          result = (_.has(local, key)) ? local[key] : local;
        else if (global)
          result = (_.has(global, key)) ? global[key] : global;
      }

    } catch (error) {
      if (this._router.isEnabled())
        log.warn('Oops! Couldn\'t find key: ' + seek || key +
          ' with router enabled.');
      else log.error(error.stack || String(error));
    }
    return result;
  }</code></pre>
          <section id="getDot">
            <h1>getDot</h1>
            <h5 class="subheader"></h5>
            <p>
              <div class="label label-info radius ctx-type">method</div><span>&nbsp;</span><span>Type.prototype.getDot()</span><span>&nbsp;</span>
            </p>
          </section>
          <div class="description"><p>Parses a string that contains a dot notation</p></div>
          <pre><code class="language-javascript">getDot() {
  var keywords = this._options.keywords,
    key = super.parse().key,
    result, local, global;
  try {
    // Find the phrase in the local scope
    local = this._router.local();
    // Find the phrase in the global scope
    global = this._router.global(keywords.global);

    result = Find.find(local, key) || Find.find(global, key);
  } catch (error) {
    if (this._router.isEnabled())
      log.warn('Oops! Couldn\'t find key: ' + this._type.key +
        ' with router enabled.');
    else log.error(error.stack || String(error));
  }
  return result;
}
}

export default Type;</code></pre>
          <div class="footer site-footer">
            <div class="span site-footer-owner"><a href="https://github.com/mr-doc/mr-doc-theme-cayman">Cayman</a> is maintained by <a href="https://github.com/iwatakeshi">iwatakeshi</a>.</div>
            <div class="span site-footer-credits">This page was generated by <a href="https://github.com/mr-doc/mr-doc">Mr. Doc</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</div>
          </div>
        </div>
      </div>
    </section>
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/affix.js"></script>
    <script src="js/dropdown.js"></script>
    <script src="js/scrollspy.js"></script>
    <script src="js/prism.js"></script>
    <script src="js/prism-bash.js"></script>
    <script>
      $(document).ready(function(){
        $('body').scrollspy({
          target: ".bs-docs-sidebar",
          offset: 40
        });
        $('#sidebar').affix({
          offset:{
            bottom:60,
            top: 60
          }
        }) 
      });
    </script>
  </body>
</html>